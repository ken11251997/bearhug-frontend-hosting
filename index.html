<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>MBTI Match</title>
    <link rel="stylesheet" href="static/css/sanitize.css">
    <link rel="stylesheet" href="static/css/index.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/sanitize.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/default.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        body::before {
          content: "";
          position: fixed;
          top: 0;
          left: 0;
          width: 100vw;
          height: 100vh;
          background-image: url("static/img/paw.png");
          background-repeat: repeat;
          background-size: 80px 80px;
          opacity: 0.05;
          transform: rotate(-30deg);
          z-index: 0;
          pointer-events: none;
        }
      </style>
</head>
<body>
    <div id="intro-overlay">
    <button id="start-btn">ãƒˆãƒ¼ã‚¯ã‚’é–‹å§‹</button>
    </div>
   <script>
    document.getElementById("start-btn").addEventListener("click", () => {
    const win = window.open('', 'bgmWindow', 'width=1,height=1,left=-1000,top=-1000');

    if (win) {
        const html = `
        <html><head><title>BGM</title></head>
        <body style="margin:0">
            <audio id="bgm" autoplay loop>
            <source src="static/sound/bgm_default.mp3" type="audio/mp3">
            </audio>
        </body></html>
        `;
        win.document.open();
        win.document.write(html);
        win.document.close();

        // ğŸ”‘ ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œã®ç›´å¾Œã« play() ã‚’å‘¼ã¶ï¼
        win.onload = () => {
        try {
            const audio = win.document.getElementById("bgm");
            audio.play().catch(err => console.warn("å†ç”Ÿã‚¨ãƒ©ãƒ¼:", err));
        } catch (e) {
            console.warn("BGMå†ç”Ÿå¤±æ•—:", e);
        }
        };
    }
    });
    setTimeout(() => {
    try {
        const audio = win.document.getElementById("bgm");
        if (audio && audio.paused) {
        audio.play().catch(() => {});
        }
    } catch (e) {}
    }, 500);
    </script>


    <div class="background-container">
        <div class="background-slider top-slider">
            <img src="static/img/ENFP.png">
            <img src="static/img/INTJ.png">
            <img src="static/img/INTP.png">
            <img src="static/img/ENTJ.png">
            <img src="static/img/ENTP.png">
            <img src="static/img/INFJ.png">
            <img src="static/img/INFP.png">
            <img src="static/img/ENFJ.png">
            <img src="static/img/ENFP.png">
        </div>
        <div class="background-slider bottom-slider">
            <img src="static/img/ISTJ.png">
            <img src="static/img/ISFJ.png">
            <img src="static/img/ESTJ.png">
            <img src="static/img/ESFJ.png">
            <img src="static/img/ISTP.png">
            <img src="static/img/ISFP.png">
            <img src="static/img/ESTP.png">
            <img src="static/img/ESFP.png">
        </div>
    </div>

    <div id="loading-overlay" class="hidden">
        <div class="loading-box">
          <div class="spinner"></div>
          <img src="static/img/bear_3.png" alt="ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãã¾" class="bear-loader">
          <p class="loading-text">ãƒ­ãƒ¼ãƒ‰ä¸­...</p>
        </div>
    </div>
    
    <div class="logo-container">
        <img src="static/img/logo.png" class="logo" alt="MBTI Match Logo">
    </div>
    <div class="card">
        <h1 class="text-2xl font-semibold mb-4">MBTI Match</h1>
        <div class="button-container">
            <button class="btn" onclick="toggleForm('register')">ç™»éŒ²</button>
            <button class="btn" onclick="toggleForm('login')">ãƒ­ã‚°ã‚¤ãƒ³</button>
            <button id ="mbti-test-btn" class="btn">ç°¡å˜è¨ºæ–­</button>
        </div>
        <p>â€»13æ­³æœªæº€ã¯ã”åˆ©ç”¨ã„ãŸã ã‘ã¾ã›ã‚“â€»</p>

        <form id="register-form" class="hidden">
            <label for="reg-username">Username</label>
            <input type="text" id="reg-username" required>
            <label for="reg-password">Password</label>
            <input type="password" id="reg-password" required>
            <label for="mbti">MBTI</label>
            <select id="mbti" required>
                <option value="INTJ">INTJï¼ˆå»ºç¯‰å®¶ - Architectï¼‰</option>
                <option value="INTP">INTPï¼ˆè«–ç†å­¦è€… - Logicianï¼‰</option>
                <option value="ENTJ">ENTJï¼ˆæŒ‡æ®å®˜ - Commanderï¼‰</option>
                <option value="ENTP">ENTPï¼ˆè¨è«–è€… - Debaterï¼‰</option>
                <option value="INFJ">INFJï¼ˆæå”±è€… - Advocateï¼‰</option>
                <option value="INFP">INFPï¼ˆä»²ä»‹è€… - Mediatorï¼‰</option>
                <option value="ENFJ">ENFJï¼ˆä¸»äººå…¬ - Protagonistï¼‰</option>
                <option value="ENFP">ENFPï¼ˆé‹å‹•å®¶ - Campaignerï¼‰</option>
                <option value="ISTJ">ISTJï¼ˆç®¡ç†è€… - Logisticianï¼‰</option>
                <option value="ISFJ">ISFJï¼ˆæ“è­·è€… - Defenderï¼‰</option>
                <option value="ESTJ">ESTJï¼ˆå¹¹éƒ¨ - Executiveï¼‰</option>
                <option value="ESFJ">ESFJï¼ˆé ˜äº‹å®˜ - Consulï¼‰</option>
                <option value="ISTP">ISTPï¼ˆå·¨åŒ  - Virtuosoï¼‰</option>
                <option value="ISFP">ISFPï¼ˆå†’é™ºå®¶ - Adventurerï¼‰</option>
                <option value="ESTP">ESTPï¼ˆèµ·æ¥­å®¶ - Entrepreneurï¼‰</option>
                <option value="ESFP">ESFPï¼ˆã‚¨ãƒ³ã‚¿ãƒ¼ãƒ†ã‚¤ãƒŠãƒ¼ - Entertainerï¼‰</option>
            </select>
            <label for="age">Age</label>
            <input type="number" id="age" name="age" min="13" max="99" required>
            <label for="prefecture">Prefecture</label>
            <select id="prefecture" required>
                <option value="åŒ—æµ·é“">åŒ—æµ·é“</option>
                <option value="é’æ£®">é’æ£®</option>
                <option value="å²©æ‰‹">å²©æ‰‹</option>
                <option value="å®®åŸ">å®®åŸ</option>
                <option value="ç§‹ç”°">ç§‹ç”°</option>
                <option value="å±±å½¢">å±±å½¢</option>
                <option value="ç¦å³¶">ç¦å³¶</option>
                <option value="èŒ¨åŸ">èŒ¨åŸ</option>
                <option value="æ ƒæœ¨">æ ƒæœ¨</option>
                <option value="ç¾¤é¦¬">ç¾¤é¦¬</option>
                <option value="åŸ¼ç‰">åŸ¼ç‰</option>
                <option value="åƒè‘‰">åƒè‘‰</option>
                <option value="æ±äº¬">æ±äº¬</option>
                <option value="ç¥å¥ˆå·">ç¥å¥ˆå·</option>
                <option value="æ–°æ½Ÿ">æ–°æ½Ÿ</option>
                <option value="å¯Œå±±">å¯Œå±±</option>
                <option value="çŸ³å·">çŸ³å·</option>
                <option value="ç¦äº•">ç¦äº•</option>
                <option value="å±±æ¢¨">å±±æ¢¨</option>
                <option value="é•·é‡">é•·é‡</option>
                <option value="å²é˜œ">å²é˜œ</option>
                <option value="é™å²¡">é™å²¡</option>
                <option value="æ„›çŸ¥">æ„›çŸ¥</option>
                <option value="ä¸‰é‡">ä¸‰é‡</option>
                <option value="æ»‹è³€">æ»‹è³€</option>
                <option value="äº¬éƒ½">äº¬éƒ½</option>
                <option value="å¤§é˜ª">å¤§é˜ª</option>
                <option value="å…µåº«">å…µåº«</option> 
                <option value="å¥ˆè‰¯">å¥ˆè‰¯</option>
                <option value="å’Œæ­Œå±±">å’Œæ­Œå±±</option>       
                <option value="é³¥å–">é³¥å–</option>       
                <option value="å³¶æ ¹">å³¶æ ¹</option>       
                <option value="å²¡å±±">å²¡å±±</option>       
                <option value="åºƒå³¶">åºƒå³¶</option>       
                <option value="å±±å£">å±±å£</option>                                                 
                <option value="å¾³å³¶">å¾³å³¶</option>       
                <option value="é¦™å·">é¦™å·</option>       
                <option value="æ„›åª›">æ„›åª›</option>       
                <option value="é«˜çŸ¥">é«˜çŸ¥</option>       
                <option value="ç¦å²¡">ç¦å²¡</option>       
                <option value="ä½è³€">ä½è³€</option> 
                <option value="é•·å´">é•·å´</option>       
                <option value="ç†Šæœ¬">ç†Šæœ¬</option>       
                <option value="å¤§åˆ†">å¤§åˆ†</option>       
                <option value="å®®å´">å®®å´</option>       
                <option value="é¹¿å…å³¶">é¹¿å…å³¶</option>       
                <option value="æ²–ç¸„">æ²–ç¸„</option>  
            </select>
            <label for="gender">Gender</label>
            <select id="gender" required>
                <option value="M">Male</option>
                <option value="F">Female</option>
            </select>
            <button type="submit" class="btn">Register</button>
        </form>

        <form id="login-form" class="hidden">
            <label for="log-username">Username</label>
            <input type="text" id="log-username" required>
            <label for="log-password">Password</label>
            <input type="password" id="log-password" required>
            <button type="submit" class="btn">Login</button>
        </form>
    </div>

    

    <!-- <script>
        function toggleForm(formType) {
            document.getElementById("register-form").classList.add("hidden");
            document.getElementById("login-form").classList.add("hidden");
            document.getElementById(`${formType}-form`).classList.remove("hidden");
        }
    </script> -->

    <script src="static/js/index.js" defer></script>
    <script src="static/js/index_ani.js" defer></script>
    <script src="{{ url_for('static', filename='js/default.js') }}" defer></script>
    <script src="{{ url_for('static', filename='js/default_ani.js') }}" defer></script>


    <footer id="footer" style="text-align: center; padding: 8px; font-size: 10px; color: #555;">
        <hr style="margin-bottom: 10px;">
        <p>&copy; 2025 MBTI Match. All rights reserved.</p>
        <p>æœ¬ã‚µã‚¤ãƒˆã«æ²è¼‰ã•ã‚Œã¦ã„ã‚‹ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚¤ãƒ©ã‚¹ãƒˆã¯å…¨ã¦åˆ¶ä½œè€…æœ¬äººã«ã‚ˆã‚‹ã‚‚ã®ã§ã‚ã‚Šã€è‘—ä½œæ¨©ã¯åˆ¶ä½œè€…ã«å¸°å±ã—ã¾ã™ã€‚ç„¡æ–­è»¢è¼‰ãƒ»è¤‡è£½ãƒ»å†é…å¸ƒã‚’ç¦æ­¢ã—ã¾ã™ã€‚</p>
        <p>å½“ã‚µãƒ¼ãƒ“ã‚¹ã¯MBTIè¨ºæ–­ã‚’ã‚‚ã¨ã«ã—ãŸã‚¨ãƒ³ã‚¿ãƒ¡ãƒ»ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç›®çš„ã¨ã—ã¦ã„ã¾ã™ã€‚è¨ºæ–­çµæœã‚„ãƒãƒƒãƒãƒ³ã‚°å†…å®¹ã«å¯¾ã™ã‚‹è²¬ä»»ã¯è² ã„ã‹ã­ã¾ã™ã€‚</p>
        <div style="margin-top: 10px;">
            <a href="terms" style="margin-right: 15px;">åˆ©ç”¨è¦ç´„</a>
            <a href="privacy">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a>
        </div>
    </footer>
</body>
</html>
